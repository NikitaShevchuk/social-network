"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[275],{9270:function(e,i,n){var s=n(5671),t=n(3144),o=n(9340),l=n(2882),r=n(2791),a=n(6871),c=n(8687),d=n(184),u=function(e){return{isAuthorized:e.auth.isAuthorized}};i.Z=function(e){var i=function(i){(0,o.Z)(r,i);var n=(0,l.Z)(r);function r(){return(0,s.Z)(this,r),n.apply(this,arguments)}return(0,t.Z)(r,[{key:"render",value:function(){return this.props.isAuthorized?(0,d.jsx)(e,{}):(0,d.jsx)(a.Fg,{replace:!0,to:"/login"})}}]),r}(r.Component);return(0,c.$j)(u)(i)}},3566:function(e,i,n){n.r(i),n.d(i,{default:function(){return V}});var s=n(8683),t=n(885),o=n(2791),l=n(8570),r=n(6871),a="Profile_whiteBg__PKEUq",c="Profile_transparent__VkP+M",d="Profile_green__bc29p",u="Profile_red__0LH4T",f="Profile_additionalInf__hWGk-",m="Profile_additionalInfActive__zcc7U",h=n(1663),p=n(5078),j=n(2564),x=n(9812),g=n(1363),b=n(184),v=function(e){var i=e.contacts,n=e.setProfileEditMode,s=e.isMyProfile,l=e.profileEditMode,r=e.followed,a=e.unfollowUserProfile,c=e.followUserProfile,d=e.submitting,u=e.pristine,h=e.disableWhileRequest,v=(0,o.useRef)(),N=(0,o.useState)(!1),P=(0,t.Z)(N,2),k=P[0],w=P[1],y=Object.keys(i).map((function(e){return[e,i[e]]})),_=Object.values(i).find((function(e){return null!==e}));return(0,o.useEffect)((function(){var e=function(e){k&&v.current&&!v.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[k]),(0,b.jsxs)("div",{className:"additional-profile-info",children:[_||k?(0,b.jsxs)("div",{className:"social-media",children:[y.map((function(e){return null===e[1]||""===e[1]||"vk"===e[0]?"":(0,b.jsx)("div",{className:"social-media__element",children:(0,b.jsx)("a",{href:"".concat(e[1]),target:"_blank",children:(0,b.jsx)(g.G,{icon:"fab fa-".concat(e[0])})})},y.indexOf(e))})),l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"edit-social-media",onClick:function(){return w(!k)},children:(0,b.jsx)(g.G,{icon:"fas fa-angle-down"})}),(0,b.jsx)("div",{className:k?m:f,ref:v,children:y.map((function(e){return"website"===e[0]||"vk"===e[0]||"mainLink"===e[0]?"":(0,b.jsx)(p.gN,{name:e[0],label:e[0],initialValue:e[1],component:x.I,validate:j.u$},y.indexOf(e))}))})]})]}):"",s?l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"submit",disabled:d||u,className:"add-butn",children:"Save"}),(0,b.jsx)("button",{onClick:function(){return n(!1)},className:"add-butn white",children:"Cancel"})]}):(0,b.jsx)("button",{onClick:function(){return n(!0)},className:"add-butn",children:"Edit profile"}):r?(0,b.jsx)("button",{title:"",className:"add-butn",disabled:h,onClick:a,children:"Unfollow"}):(0,b.jsx)("button",{title:"",className:"add-butn",disabled:h,onClick:c,children:"Follow"})]})},N=function(e){var i=e.setProfileEditMode,n=e.profile,s=e.isMyProfile,t=e.userId,o=e.followUser,l=e.unfollowUser,r=e.updStatusThunk,a=e.status,c=e.profileEditMode,f=e.followed,m=e.setMyStatus;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"admin-name timeline-info__row",children:[(0,b.jsx)("h5",{children:n.fullName}),(0,b.jsx)(h.Z,{isMyProfile:s,status:a,updStatusThunk:r,setMyStatus:m})]}),(0,b.jsx)(v,{contacts:n.contacts,setProfileEditMode:i,isMyProfile:s,profileEditMode:c,followed:f,unfollowUserProfile:function(){l(t)},followUserProfile:function(){o(t)}}),(0,b.jsx)("div",{className:"timeline-info__row",children:(0,b.jsxs)("div",{className:"lookingForAJob",children:[(0,b.jsx)("div",{className:"lookingForAJobDescription",children:n.lookingForAJobDescription}),(0,b.jsx)("div",{className:"".concat(n.lookingForAJob?d:u),children:n.lookingForAJob?"Looking for a job":"Not interested in job"})]})})]})},P=n(8687),k=n(2727),w=n(7781),y=n(9270),_=function(e){var i=e.setProfileEditMode,n=e.isMyProfile,l=e.status,r=e.profile,a=e.myId,c=e.updateProfile,f=e.updStatusThunk,m=e.profileEditMode,g=e.disableWhileRequest,N=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return function(e){return i.reduce((function(i,n){return i||n(e)}),void 0)}},P=(0,j.oQ)(4),k=(0,j.DT)(20),w=(0,j.DT)(120),y=(0,o.useState)(r.lookingForAJob),_=(0,t.Z)(y,2),M=_[0],E=_[1];return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(p.l0,{onSubmit:function(e){c((0,s.Z)((0,s.Z)({},e),{},{contacts:{github:e.github,vk:null,facebook:e.facebook,instagram:e.instagram,twitter:e.twitter,website:null,youtube:e.youtube,mainLink:null}})),i(!1)},render:function(e){var s=e.handleSubmit,t=e.submitting,o=e.pristine;return(0,b.jsxs)("form",{className:"",onSubmit:s,children:[(0,b.jsxs)("div",{className:"admin-name timeline-info__row",children:[(0,b.jsx)(p.gN,{name:"userId",type:"hidden",component:"input",initialValue:a}),(0,b.jsx)("h5",{children:(0,b.jsx)(p.gN,{name:"fullName",validate:N(j.C1,P,k),initialValue:r.fullName,component:x.I})}),(0,b.jsx)(p.gN,{name:"aboutMe",component:"input",type:"hidden",initialValue:l}),(0,b.jsx)(h.Z,{isMyProfile:!1,status:l,updStatusThunk:f})]}),(0,b.jsx)(v,{contacts:r.contacts,setProfileEditMode:i,isMyProfile:n,profileEditMode:m,submitting:t,pristine:o,disableWhileRequest:g}),(0,b.jsx)("div",{className:"timeline-info__row",children:(0,b.jsxs)("div",{className:"lookingForAJob",children:[(0,b.jsx)("div",{className:"lookingForAJobDescription-edit",children:(0,b.jsx)(p.gN,{name:"lookingForAJobDescription",validate:N(w),initialValue:r.lookingForAJobDescription,component:x.I})}),(0,b.jsxs)("div",{onClick:function(){return E(!M)},className:"".concat(M?d:u),children:[(0,b.jsx)("label",{htmlFor:"job",children:"Looking fo a job"}),(0,b.jsx)(p.gN,{name:"lookingForAJob",id:"job",initialValue:r.lookingForAJob,type:"checkbox",label:"Looking for a job",component:"input"})]})]})})]})}})})},M=n.p+"static/media/profileCover.f77c41c8ba007e39e6df.jpg",E=n(431),C=function(e){return(0,b.jsx)("div",{className:"local-error",children:(0,b.jsx)("span",{className:"text",children:e.errorText})})},F=n(7420),S=n(1054),A=n(3174),I=function(e){var i=e.onSubmit;return(0,b.jsx)(p.l0,{onSubmit:i,render:function(e){var i=e.handleSubmit;return(0,b.jsxs)("form",{onSubmit:i,children:[(0,b.jsx)(p.gN,{name:"postBody",initialValue:"What's new?",component:"textarea"}),(0,b.jsxs)("div",{className:"attachments",children:[(0,b.jsxs)("div",{className:"icons",children:[(0,b.jsx)(g.G,{icon:A.Xig}),(0,b.jsx)(g.G,{icon:A.gMD})]}),(0,b.jsx)("button",{className:"add-butn",children:"Post"})]})]})}})},Z=function(e){var i=e.addPostActionCreator;return(0,b.jsx)("div",{className:"new-postbox",children:(0,b.jsx)("div",{className:"newpst-input",children:(0,b.jsx)(I,{onSubmit:function(e){i(e)}})})})},U=function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"loadMore opacity-animation",children:[(0,b.jsx)(Z,{state:e.state,onPostChange:e.onPostChange,addPostActionCreator:e.addPostActionCreator,postNewText:e.postNewText,profileImg:e.profileImg}),e.postList]})})},T=n(6916),J=function(e){return(0,b.jsx)("div",{className:"user-post",children:(0,b.jsxs)("div",{className:"friend-info",children:[(0,b.jsx)("figure",{children:(0,b.jsx)("img",{src:e.profileImg,alt:""})}),(0,b.jsxs)("div",{className:"friend-name",children:[(0,b.jsx)("ins",{children:(0,b.jsx)("a",{href:"time-line.html",title:"",children:e.userName})}),(0,b.jsx)("span",{children:"published: june,2 2018 19:PM"})]}),(0,b.jsxs)("div",{className:"post-meta",children:[(0,b.jsx)("img",{src:M,alt:""}),(0,b.jsx)("div",{className:"we-video-info",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsxs)("span",{className:"views",title:"views",children:[(0,b.jsx)("i",{className:"fa fa-eye"}),(0,b.jsx)("ins",{children:"1.2k"})]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("span",{className:"comment",title:"Comments",children:[(0,b.jsx)("i",{className:"fa fa-comments-o"}),(0,b.jsx)("ins",{children:"52"})]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("span",{className:"like",title:"like",children:[(0,b.jsx)("i",{className:"ti-heart"}),(0,b.jsx)("ins",{children:e.likesCount})]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("span",{className:"dislike",title:"dislike",children:[(0,b.jsx)("i",{className:"ti-heart-broken"}),(0,b.jsx)("ins",{children:"200"})]})})]})}),(0,b.jsx)("div",{className:"description",children:(0,b.jsx)("p",{children:e.postText})})]})]})})},D=(0,T.P1)((function(e){return e.postPage.posts}),(function(e){var i;return null===(i=e.profilePage.profile)||void 0===i?void 0:i.photos.small}),(function(e){return e.profilePage.profile.fullName}),(function(e,i,n){return e.map((function(e){return(0,b.jsx)(J,{postText:e.postText,likesCount:e.likesCount,profileImg:i,userName:n},e.id)}))})),L=(0,P.$j)((function(e){return{postList:D(e),profileImg:e.auth.profileImg}}),{addPostActionCreator:S.W})(U),V=(0,w.qC)(y.Z,(0,P.$j)((function(e){return{profile:e.profilePage.profile,followed:e.profilePage.followed,disableWhileRequest:e.profilePage.disableWhileRequest,status:e.profilePage.status,myId:e.auth.userData.id,photoUpdating:e.profilePage.photoUpdating,localError:e.profilePage.localError}}),{followUser:k.P_,unfollowUser:k.F6,loadProfile:k.hr,updStatusThunk:k.zF,updatePhoto:k.tU,updateProfile:k.ck,updateProfileImg:F.KV,setMyStatus:F.EF}))((function(e){var i,n,d=(0,r.UO)().userId,u=!1;d||(d=e.myId),u=!d||d===e.myId;var f=(0,o.useState)(!1),m=(0,t.Z)(f,2),h=m[0],p=m[1];(0,o.useEffect)((function(){e.loadProfile(d)}),[d]);return e.profile?(0,b.jsxs)("div",{className:"central-meta",children:[e.localError&&(0,b.jsx)(C,{errorText:e.localError}),(0,b.jsxs)("div",{className:"feature-photo",children:[(0,b.jsx)("figure",{children:(0,b.jsx)("img",{src:M,alt:""})}),(0,b.jsx)("div",{className:"bg",children:(0,b.jsxs)("div",{className:"timeline-info",children:[(0,b.jsx)("div",{className:"user-avatar",children:(0,b.jsxs)("figure",{className:null!==(i=e.profile.photos)&&void 0!==i&&i.large&&!e.photoUpdating?c:a,children:[e.photoUpdating?(0,b.jsx)(l.Z,{}):(0,b.jsx)(E.Z,{profileImg:null===(n=e.profile.photos)||void 0===n?void 0:n.large}),u?(0,b.jsxs)("form",{className:"edit-phto",children:[(0,b.jsx)("i",{className:"fa fa-edit"}),(0,b.jsxs)("label",{className:"fileContainer",children:["Edit Display Photo",(0,b.jsx)("input",{onChange:function(i){i.target.files[0]&&e.updatePhoto(i.target.files[0]).then((function(i){e.updateProfileImg(i)}))},type:"file",accept:".jpg, .jpeg, .png"})]})]}):""]})}),(0,b.jsx)("div",{className:"timeline-info__container",children:h?(0,b.jsx)(_,(0,s.Z)((0,s.Z)({},e),{},{setProfileEditMode:p,profileEditMode:h,isMyProfile:u})):(0,b.jsx)(N,(0,s.Z)((0,s.Z)({},e),{},{setProfileEditMode:p,profileEditMode:h,isMyProfile:u,setMyStatus:e.setMyStatus}))})]})})]}),(0,b.jsx)(L,{})]}):(0,b.jsx)("div",{className:"central-meta",children:(0,b.jsx)(l.Z,{})})}))}}]);
//# sourceMappingURL=275.d543ce01.chunk.js.map